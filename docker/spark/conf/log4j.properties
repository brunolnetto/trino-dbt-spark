# Set root logger
log4j.rootCategory=INFO, console, rollingFile

# Console appender
log4j.appender.console=org.apache.log4j.ConsoleAppender
log4j.appender.console.target=System.err
log4j.appender.console.layout=org.apache.log4j.PatternLayout
log4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{1}: %m%n

# Rolling file appender
log4j.appender.rollingFile=org.apache.log4j.RollingFileAppender
log4j.appender.rollingFile.File=/opt/bitnami/spark/logs/spark.log
log4j.appender.rollingFile.MaxFileSize=128MB
log4j.appender.rollingFile.MaxBackupIndex=10
log4j.appender.rollingFile.layout=org.apache.log4j.PatternLayout
log4j.appender.rollingFile.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{1}: %m%n

# Settings to quiet third party logs that are too verbose
log4j.logger.org.sparkproject.jetty=WARN
log4j.logger.org.sparkproject.jetty.util.component.AbstractLifeCycle=ERROR
log4j.logger.org.apache.spark.repl.Main=WARN
log4j.logger.org.apache.spark.sql.catalyst.expressions.codegen.CodeGenerator=WARN

# Hive metastore logs
log4j.logger.org.apache.hadoop.hive.metastore=WARN
log4j.logger.org.apache.hadoop.hive.ql=WARN

# Iceberg logs
log4j.logger.org.apache.iceberg=INFO

# S3/MinIO logs
log4j.logger.com.amazonaws=WARN
log4j.logger.org.apache.hadoop.fs.s3a=WARN

# YARN logs
log4j.logger.org.apache.hadoop.yarn=WARN

# Parquet logs
log4j.logger.org.apache.parquet=ERROR
